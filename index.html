<!DOCTYPE html>
<html lang="en" class="antialiased scroll-smooth scroll-pt-24">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover, shrink-to-fit=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />
    <title>Dasari Venkata Prasanna Kumar - Full Stack Engineer</title>
    <meta name="description" content="Portfolio of Dasari Venkata Prasanna Kumar, a Full-Stack Engineer specializing in React, Node.js, AI Integration, and Scalable Architecture.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dasarivpk.com/">
    <meta property="og:title" content="Dasari Venkata Prasanna Kumar - Full Stack Engineer">
    <meta property="og:description" content="Building scalable, responsive web applications and AI-integrated solutions.">
    <meta property="og:image" content="https://ui-avatars.com/api/?name=Dasari+Venkata&background=0071E3&color=fff&size=512&font-size=0.33&bold=true">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://dasarivpk.com/">
    <meta property="twitter:title" content="Dasari Venkata Prasanna Kumar - Full Stack Engineer">
    <meta property="twitter:description" content="Building scalable, responsive web applications and AI-integrated solutions.">
    <meta property="twitter:image" content="https://ui-avatars.com/api/?name=Dasari+Venkata&background=0071E3&color=fff&size=512&font-size=0.33&bold=true">

    <!-- Preconnect to CDNs for faster loading -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.cdnfonts.com">
    

    <script>
      (function() {
        const storageKey = 'theme-preference';
        const root = document.documentElement;
        const apply = (mode) => {
          root.classList.toggle('dark', mode === 'dark');
          root.dataset.theme = mode;
        };
        try {
          const storedPreference = localStorage.getItem(storageKey);
          const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          const shouldUseDark = storedPreference === 'dark' || (!storedPreference && prefersDark);
          const theme = shouldUseDark ? 'dark' : 'light';
          if (storedPreference !== 'dark' && storedPreference !== 'light' && storedPreference !== null) {
            localStorage.removeItem(storageKey);
          }
          apply(theme);
        } catch (error) {
          console.warn('Theme preload failed', error);
          apply('light');
        }
      })();
    </script>


  <!-- Vite handles all module resolution automatically - no import map needed -->

  
  <!-- Performance hints for faster loading -->
  <link rel="preload" as="script" href="/index.tsx">
  <meta name="theme-color" content="#F5F5F7">
  <meta name="color-scheme" content="light dark">
  </head>
  <body class="bg-apple-gray dark:bg-black text-apple-text dark:text-apple-darkText transition-colors duration-300">
    <script>
      // Prevent scroll restoration before React loads - runs immediately
      (function() {
        if ('scrollRestoration' in history) {
          history.scrollRestoration = 'manual';
        }
        // Force scroll to top immediately and on load
        window.scrollTo(0, 0);
        document.addEventListener('DOMContentLoaded', function() {
          window.scrollTo(0, 0);
        });
        window.addEventListener('load', function() {
          window.scrollTo(0, 0);
          // One more time after a brief delay to ensure it sticks
          setTimeout(function() {
            window.scrollTo(0, 0);
          }, 0);
        });
      })();
    </script>
    <div id="root">
      <!-- Loading fallback for iOS -->
      <div id="loading-fallback" style="display: flex; align-items: center; justify-content: center; min-height: 100vh; background: #F5F5F7; color: #1D1D1F; font-family: -apple-system, BlinkMacSystemFont, sans-serif;">
        <div style="text-align: center; padding: 2rem;">
          <div style="width: 40px; height: 40px; border: 4px solid #0071E3; border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem;"></div>
          <p>Loading portfolio...</p>
        </div>
      </div>
    </div>
    <script type="module">
      // Error handling for iOS and all devices
      (function() {
        'use strict';
        
        // Global error handler
        window.addEventListener('error', function(e) {
          console.error('Global error:', e);
          const loading = document.getElementById('loading-fallback');
          if (loading) {
            loading.innerHTML = '<div style="text-align: center; padding: 2rem; color: #dc2626;"><p style="font-size: 1.25rem; margin-bottom: 0.5rem;">Failed to load</p><p style="font-size: 0.875rem; color: #6b7280;">Please check your connection and try again.</p><button onclick="location.reload()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #0071E3; color: white; border: none; border-radius: 0.5rem; cursor: pointer;">Retry</button></div>';
          }
        }, true);

        // Unhandled promise rejection handler
        window.addEventListener('unhandledrejection', function(e) {
          console.error('Unhandled rejection:', e.reason);
          const loading = document.getElementById('loading-fallback');
          if (loading && !document.getElementById('root').querySelector(':not(#loading-fallback)')) {
            loading.innerHTML = '<div style="text-align: center; padding: 2rem; color: #dc2626;"><p style="font-size: 1.25rem; margin-bottom: 0.5rem;">Loading Error</p><p style="font-size: 0.875rem; color: #6b7280;">Please refresh the page.</p><button onclick="location.reload()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #0071E3; color: white; border: none; border-radius: 0.5rem; cursor: pointer;">Retry</button></div>';
          }
        });

        // Wait for DOM to be ready
        function loadApp() {
          // Check if import maps are supported (iOS 16.4+)
          const supportsImportMap = HTMLScriptElement.supports && HTMLScriptElement.supports('importmap');
          if (!supportsImportMap) {
            console.warn('Import maps may not be fully supported');
          }

          // Load the app with error handling
          import('/index.tsx')
            .then(function() {
              // App loaded successfully, hide loading
              const loading = document.getElementById('loading-fallback');
              if (loading) {
                loading.style.display = 'none';
              }
            })
            .catch(function(error) {
              console.error('Failed to import app:', error);
              const root = document.getElementById('root');
              const loading = document.getElementById('loading-fallback');
              if (root && loading) {
                loading.innerHTML = '<div style="text-align: center; padding: 2rem; color: #dc2626;"><p style="font-size: 1.25rem; margin-bottom: 0.5rem;">Loading Error</p><p style="font-size: 0.875rem; color: #6b7280; margin-bottom: 0.5rem;">' + (error.message || 'Please refresh the page or use a modern browser.') + '</p><button onclick="location.reload()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #0071E3; color: white; border: none; border-radius: 0.5rem; cursor: pointer;">Retry</button></div>';
              }
            });
        }

        // Load when DOM is ready
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', loadApp);
        } else {
          // DOM already ready
          loadApp();
        }
      })();
    </script>
    <style>
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
      /* Hide loading fallback when app loads */
      #root:not(:empty) #loading-fallback {
        display: none !important;
      }
    </style>
</body>
</html>